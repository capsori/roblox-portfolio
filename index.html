<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Capsori — Roblox developer. Lua scripting, UI/UX, and gameplay systems." />
  <title>Capsori — Roblox Developer</title>

  <style>
    :root{
      --bg-1: #0e0e10;
      --bg-2: #141416;
      --card: #19191b;
      --muted: #a7a7a7;
      --accent: #ff7700;
      --accent-2: #ff1655;
      --glass: rgba(20,20,22,0.6);
      --max-width: 1100px;
      --radius: 10px;
      --gap: 1.25rem;
      --nav-height: 64px;
    }

    /* Basic resets */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(120deg,var(--bg-1),var(--bg-2));
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
      scroll-behavior:smooth;
      padding-top: var(--nav-height);
    }

    /* Canvas background (particles) sits behind everything */
    canvas#bgCanvas{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:-1;
    }

    /* Navigation */
    nav{
      position:fixed;
      top:0;
      left:0;
      right:0;
      height:var(--nav-height);
      display:flex;
      align-items:center;
      justify-content:center;
      backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(10,10,12,0.6), rgba(10,10,12,0.45));
      z-index:30;
      border-bottom: 1px solid rgba(255,255,255,0.03);
    }
    .nav-inner{
      width:100%;
      max-width:var(--max-width);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 1rem;
      gap:1rem;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:.75rem;
      text-decoration:none;
      color:inherit;
    }
    .brand h1{
      font-size:1.05rem;
      margin:0;
      letter-spacing:0.6px;
      background: linear-gradient(90deg,var(--accent-2),var(--accent));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .nav-links{
      display:flex;
      gap:1rem;
      align-items:center;
    }
    .nav-links a{
      color: #fff;
      text-decoration:none;
      font-weight:600;
      padding:0.5rem 0.6rem;
      border-radius:6px;
      opacity:0.95;
      transition: all .18s ease;
      font-size:0.95rem;
    }
    .nav-links a:hover{ color:var(--accent); transform:translateY(-2px) }
    .nav-links a.active{
      color:var(--accent);
      box-shadow: inset 0 -2px 0 var(--accent);
    }

    /* Page layout */
    main{ max-width: var(--max-width); margin: 0 auto; padding: 2.5rem 1rem 6rem; }

    header.hero{
      text-align:center;
      padding:3.5rem 0;
      margin-bottom: 0.5rem;
      border-radius: var(--radius);
    }
    header .eyebrow{ color:var(--muted); font-weight:600; letter-spacing:0.6px; margin-bottom:.5rem }
    header h2{
      font-size:2.4rem;
      margin:0 0 0.5rem 0;
      line-height:1.05;
    }
    header p.lead{ max-width:760px; margin: 0.75rem auto 1.25rem; color: #e9e9e9; opacity: .95; font-size:1.05rem }
    .cta-row{ display:flex; gap:0.75rem; justify-content:center; align-items:center; margin-top:1rem }
    .btn{
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#111;
      padding:0.6rem 1rem;
      border-radius:8px;
      font-weight:700;
      text-decoration:none;
      box-shadow: 0 6px 18px rgba(255,119,0,0.12);
      transition:transform .14s ease;
    }
    .btn.secondary{
      background:transparent;
      color:#fff;
      border:1px solid rgba(255,255,255,0.06);
      box-shadow:none;
    }
    .btn:hover{ transform:translateY(-4px) }

    /* Sections */
    section{ margin:2.25rem 0; padding:1.25rem; border-radius:8px; opacity:0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
    section.visible{ opacity:1; transform: translateY(0); }
    section .section-header{ display:flex; align-items:center; justify-content:center; gap:.75rem; flex-direction:column; margin-bottom:1rem }
    section h3{ color:var(--accent); margin:0; letter-spacing:.4px; font-size:1.25rem }
    section p.lead-mini{ color:var(--muted); text-align:center; max-width:820px; margin:0.5rem auto 1rem; }

    /* Project grids */
    .projects.grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:20px;
      align-items:start;
    }

    /* Featured (biggest) project style */
    .featured-card{
      grid-column: 1 / -1; /* span full width on desktop */
      display:flex;
      gap:18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
      border: 1px solid rgba(255,255,255,0.03);
      padding: 18px;
      border-radius:14px;
      align-items:stretch;
      transition: transform .22s cubic-bezier(.2,.9,.2,1), box-shadow .22s ease, border-color .22s ease;
    }
    .featured-media{
      flex: 1 1 60%;
      min-height: 300px;
      border-radius:10px;
      overflow:hidden;
      background:#000;
    }
    .featured-media iframe, .featured-media video{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }
    .featured-body{
      flex: 1 1 40%;
      display:flex;
      flex-direction:column;
      gap:12px;
      justify-content:center;
      padding:8px 4px;
    }
    .featured-title{
      font-size:1.45rem;
      margin:0;
      color:#fff;
    }
    .featured-role{
      display:inline-block;
      padding:6px 10px;
      background: rgba(255,119,0,0.08);
      border:1px solid rgba(255,119,0,0.12);
      color:var(--accent);
      border-radius:999px;
      font-weight:700;
      font-size:0.9rem;
      width:fit-content;
    }
    .featured-desc{
      color:#eaeaea;
      line-height:1.45;
      margin-top:6px;
      font-size:0.98rem;
    }
    .featured-cta{
      margin-top:8px;
    }
    .featured-cta .btn{
      width:160px;
      text-align:center;
    }

    /* Hover for featured */
    .featured-card:hover{
      transform: translateY(-6px);
      box-shadow: 0 10px 40px rgba(255,119,0,0.12), 0 0 36px rgba(255,119,0,0.06);
      border-color: rgba(255,119,0,0.9);
    }

    /* Regular project card (smaller) */
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
      border: 1px solid rgba(255,255,255,0.03);
      padding:1rem;
      border-radius:12px;
      display:flex;
      flex-direction:column;
      min-height: 260px;
      transition: transform .22s cubic-bezier(.2,.9,.2,1), box-shadow .22s ease, border-color .22s ease;
      will-change: transform, box-shadow;
    }
    .card:hover{
      transform: translateY(-8px);
      box-shadow: 0 8px 30px rgba(255,119,0,0.15), 0 0 30px rgba(255,119,0,0.08);
      border-color: rgba(255,119,0,0.9);
    }
    .card .thumb{
      width:100%;
      border-radius:8px;
      overflow:hidden;
      height: 140px;
      margin-bottom:.85rem;
      background: linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.25));
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .card .thumb img{ width:100%; height:100%; object-fit:cover; display:block }
    .card h4{ margin:0 0 .4rem 0; font-size:1.05rem }
    .card p.desc{ color:#e7e7e7; opacity:.95; margin:0 0 1rem; flex:1 }
    .card .actions{ display:flex; gap:.5rem; margin-top: .6rem; align-items:center; }

    /* Showcase (compact layout) */
    .showcase-wrapper{
      display:flex;
      flex-wrap:wrap;
      gap:18px;
      justify-content:center;
      padding: 8px 6px;
    }
    .clip{
      width: 220px;
      background:var(--card);
      padding:.8rem;
      border-radius:12px;
      text-align:center;
      border:1px solid rgba(255,119,0,0.04);
      transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s ease, border-color .18s ease;
    }
    .clip video{ width:100%; height:150px; border-radius:8px; background:#000; display:block; margin-bottom:.6rem; object-fit:cover; }
    .clip h4{ margin:0; font-size:0.98rem; color:#fff; }
    .clip p{ margin: 6px 0 0; color:var(--muted); font-size:0.92rem; }

    .clip:hover{
      transform: translateY(-6px);
      box-shadow: 0 8px 26px rgba(255,119,0,0.12), 0 0 18px rgba(255,119,0,0.06);
      border-color: rgba(255,119,0,0.75);
    }

    /* Reviews */
    .review-card{
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.04));
      padding:1rem;
      border-radius:12px;
      text-align:center;
      border:1px solid rgba(255,255,255,0.03);
      max-width:960px;
      margin: 0 auto;
    }
    .review-card a.review-link{
      display:block;
      width:100%;
      text-decoration:none;
      color:inherit;
    }
    .review-card img{
      width:100%;
      max-width:860px;
      height:auto;
      border-radius:10px;
      display:block;
      margin: 0 auto;
      box-shadow: 0 8px 26px rgba(0,0,0,0.6);
      transition: transform .16s ease, box-shadow .16s ease;
    }
    .review-card img:hover{
      transform: scale(1.02);
      box-shadow: 0 12px 40px rgba(255,119,0,0.16);
    }

    /* Contact icons */
    .contact-grid{ display:flex; gap:1rem; justify-content:center; align-items:center; flex-wrap:wrap; margin-top:8px; }
    .contact-grid a img{ width:56px; height:56px; border-radius:12px; object-fit:cover; display:block; transition:transform .12s ease; }
    .contact-grid a:hover img{ transform:scale(1.06) }

    footer{
      text-align:center;
      color: #bdbdbd;
      font-size:0.92rem;
      margin-top:2rem;
      opacity:.9;
    }

    /* Responsive */
    @media (max-width:980px){
      .projects.grid{ grid-template-columns: 1fr; }
      .featured-card{ flex-direction:column; }
      .featured-media{ height: 300px; min-height:200px; }
      .featured-body{ padding:6px 0; }
    }
    @media (max-width:800px){
      header h2{ font-size:1.6rem }
      .clip video{ height:120px }
      .card .thumb{ height:120px }
      .review-card img{ max-width:680px }
      .showcase-wrapper{ gap:12px }
    }
    @media (max-width:480px){
      .nav-links{ display:none }
      .brand h1{ font-size:0.98rem }
      main{ padding:1.2rem }
    }
  </style>
</head>
<body>
  <!-- Canvas for subtle particles -->
  <canvas id="bgCanvas" aria-hidden="true"></canvas>

  <!-- NAV -->
  <nav>
    <div class="nav-inner" role="navigation" aria-label="Main navigation">
      <a class="brand" href="#home">
        <svg width="34" height="34" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <rect width="24" height="24" rx="5" fill="#111"/>
          <path d="M6 12h12" stroke="#ff7700" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
        <h1>Capsori</h1>
      </a>

      <div class="nav-links" id="navLinks">
        <a href="#home" class="nav-link active">Home</a>
        <a href="#about" class="nav-link">About</a>
        <a href="#projects" class="nav-link">Projects</a>
        <a href="#showcase" class="nav-link">Technical Showcase</a>
        <a href="#tos" class="nav-link">Terms</a>
        <a href="#reviews" class="nav-link">Reviews</a>
        <a href="#contact" class="nav-link">Contact</a>
      </div>
    </div>
  </nav>

  <main>
    <!-- HERO -->
    <header id="home" class="hero" tabindex="-1">
      <div class="eyebrow">Roblox | Systems & Gameplay</div>
      <h2>Creating polished gameplay systems and responsive UI for Roblox experiences</h2>
      <p class="lead">I’m <strong>Capsori</strong>, a Roblox developer from Tunisia with multiple years of scripting experience. I focus on maintainable systems, smooth multiplayer behaviour, and player-first UX.</p>

      <div class="cta-row">
        <a class="btn" href="#projects">View Highlighted Work</a>
        <a class="btn secondary" href="#contact">Get a Quote</a>
      </div>
    </header>

    <!-- ABOUT -->
    <section id="about" aria-labelledby="about-title">
      <div class="section-header">
        <h3 id="about-title">About Me</h3>
        <p class="lead-mini">Lua scripting • UI/UX • Performance & optimization • Systems design</p>
      </div>
      <p style="text-align:center; color:#eaeaea; max-width:900px; margin: 0 auto;">
        I specialise in building robust, scalable game systems and responsive interfaces for Roblox titles. My work emphasises maintainability, performance, and a smooth player experience. I help teams ship features that stay performant at scale and make gameplay feel tight and satisfying.
      </p>
    </section>

    <!-- PROJECTS (featured first) -->
    <section id="projects" aria-labelledby="projects-title">
      <div class="section-header">
        <h3 id="projects-title">Highlighted Projects</h3>
        <p class="lead-mini">Selected work emphasizing systems design, UI, and multiplayer reliability.</p>
      </div>

      <div class="projects grid" role="list">

        <!-- FEATURED: biggest project (large & eye-catching) -->
        <article class="featured-card" role="listitem" aria-label="My biggest project (featured)">
          <div class="featured-media" id="featuredMedia">
            <!-- iframe will be injected by script from the YouTube URL (no action needed once you paste the URL in the script) -->
            <!-- Fallback static message -->
            <div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#999;background:#000;">
              Loading trailer...
            </div>
          </div>

          <div class="featured-body">
            <div>
              <div class="featured-role">Lead Scripter</div>
            </div>
            <h2 class="featured-title">My Biggest Project</h2>
            <p class="featured-desc">This is the best project I made — it's like a triple-A horror experience. I led scripting as the Lead Scripter and implemented core systems, AI, and polished gameplay mechanics that make the trailer stand out.</p>

            <div class="featured-cta">
              <!-- Contact button links to the contact section -->
              <a class="btn" href="#contact">Contact Me</a>
            </div>
          </div>
        </article>

        <!-- Other smaller projects (kept below the featured card) -->
        <article class="card" role="listitem" aria-label="Don't Pop The Balloon project">
          <div class="thumb">
            <img src="newthumb2NEW.png" alt="Don't Pop The Balloon thumbnail" />
          </div>
          <span class="role-badge">Lead Scripter</span>
          <h4>Don't Pop The Balloon</h4>
          <p class="desc">Built core turn-based gameplay systems, implemented responsive UI, and optimized server-side logic to keep multiplayer rounds smooth under load.</p>
          <div class="actions">
            <!-- Removed Play button as requested; keep contact CTA -->
            <a class="btn" href="https://www.roblox.com/games/76252473316261/Dont-Pop-The-Balloon-REWORK" target="_blank" rel="noopener">Play</a>
            <a class="btn secondary" href="#contact">Contact Me</a>
          </div>
        </article>

        <article class="card" role="listitem" aria-label="Guilty! project">
          <div class="thumb">
            <img src="Screenshot 2025-08-10 152326.png" alt="Guilty! thumbnail" />
          </div>
          <span class="role-badge">Lead Scripter</span>
          <h4>Guilty!</h4>
          <p class="desc">Implemented game rules, scripted AI/NPC behaviours, and tuned server authority to ensure fair competitive matches and predictable gameplay outcomes.</p>
          <div class="actions">
            <a class="btn" href="https://www.roblox.com/games/5410018142/Guilty" target="_blank" rel="noopener">Play</a>
            <a class="btn secondary" href="#contact">Contact Me</a>
          </div>
        </article>

        <article class="card" role="listitem" aria-label="Wordsy project">
          <div class="thumb">
            <img src="ChatGPT Image Jul 20, 2025, 06_40_32 PM.png" alt="Wordsy thumbnail" />
          </div>
          <span class="role-badge">Solo Developer</span>
          <h4>Wordsy</h4>
          <p class="desc">Designed and implemented the full game flow including scoring, input validation, anti-cheat checks, and polished UX animations for a multiplayer word game.</p>
          <div class="actions">
            <a class="btn" href="https://www.roblox.com/games/138900044468302/Wordsy" target="_blank" rel="noopener">Play</a>
            <a class="btn secondary" href="#contact">Contact Me</a>
          </div>
        </article>

      </div> <!-- end projects grid -->
    </section>

    <!-- TECHNICAL SHOWCASE (compact layout, no filename captions) -->
    <section id="showcase" aria-labelledby="showcase-title">
      <div class="section-header">
        <h3 id="showcase-title">Technical Showcase</h3>
        <p class="lead-mini">Short clips demonstrating systems, tools, and prototypes I built.</p>
      </div>

      <div class="showcase-wrapper" role="list">
        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2023-06-26 23-40-52.mkv" />
            Your browser cannot play this video.
          </video>
          <h4>Rocket launcher system</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2023-07-21 09-40-28.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Remake / Prototype</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2023-09-28 17-49-01.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Star Wars dialogue system</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2023-09-30 22-55-20.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Tower Defense snippet</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2024-01-01 21-29-52.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Music visualizer</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2024-03-29 00-15-09.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Custom physics demo</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2024-07-12 23-53-05.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Among Us - style puzzle (dev tutorial)</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2024-07-23 23-53-53.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Level editor prototype</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2024-08-25 18-06-07.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Custom cloud module</h4>
        </figure>

        <figure class="clip" role="listitem">
          <video controls preload="metadata" playsinline>
            <source src="2024-09-13 14-38-50.mp4" type="video/mp4" />
            Your browser cannot play this video.
          </video>
          <h4>Chunk loading system</h4>
        </figure>
      </div>
    </section>

    <!-- TERMS -->
    <section id="tos" aria-labelledby="tos-title">
      <div class="section-header">
        <h3 id="tos-title">Terms of Service</h3>
        <p class="lead-mini">Simple and clear terms to keep projects predictable and fair.</p>
      </div>

      <div style="max-width:840px;margin:0 auto;color:var(--muted);">
        <ul style="line-height:1.8; padding-left:1rem;">
          <li><strong>No refunds</strong> after work has started or deliverables have been handed over.</li>
          <li><strong>Payment</strong> is negotiated directly and depends on project scope and timeline.</li>
          <li>Clear, written requirements are required before work begins.</li>
          <li>I reserve the right to decline work that conflicts with my values or expertise.</li>
          <li>Delivery timelines are estimated per-project and will be included in the agreement.</li>
        </ul>
      </div>
    </section>

    <!-- REVIEWS -->
    <section id="reviews" aria-labelledby="reviews-title">
      <div class="section-header">
        <h3 id="reviews-title">Reviews</h3>
        <p class="lead-mini">Client feedback and screenshots from completed work.</p>
      </div>

      <div class="review-card" role="region" aria-label="Client review screenshot">
        <a class="review-link" href="6zn_review.png" target="_blank" rel="noopener">
          <img src="6zn_review.png" alt="Client review screenshot" />
        </a>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" aria-labelledby="contact-title">
      <div class="section-header">
        <h3 id="contact-title">Contact</h3>
        <p class="lead-mini">Available for freelance and team work. Payment and scope negotiated per-project.</p>
      </div>

      <div class="contact-grid" style="margin-top:0.6rem;">
        <a href="https://discordapp.com/users/642358401510277132" target="_blank" rel="noopener">
          <img src="cool-discord-dq4iyreaz1c75nun.jpg" alt="Discord profile" />
        </a>
        <a href="https://www.roblox.com/users/391300854/profile" target="_blank" rel="noopener">
          <img src="Roblox_Logo_2022.jpg" alt="Roblox profile" />
        </a>
        <a href="mailto:you@example.com" aria-label="Send e-mail">
          <img src="email-icon.png" alt="Email (replace with your icon)" />
        </a>
      </div>
    </section>

    <footer>
      <div>&copy; 2025 Capsori — Roblox Developer</div>
    </footer>
  </main>

  <!-- Lightweight scripts: particles, featured embed, nav active link and fade-in -->
  <script>
    /**************************************************************************
     *  IMPORTANT:
     *  Paste your YouTube trailer URL below (the whole URL is fine).
     *  Example:
     *    const FEATURE_YOUTUBE_URL = "https://www.youtube.com/watch?v=abcd1234XYZ";
     **************************************************************************/
    const FEATURE_YOUTUBE_URL = "PASTE_YOUTUBE_URL_HERE";

    // small helper to extract YouTube ID from common URL formats
    function extractYouTubeID(url){
      if(!url || typeof url !== 'string') return null;
      // Try regex to match common patterns
      const patterns = [
        /(?:youtube\.com\/watch\?v=|youtube\.com\/embed\/|youtu\.be\/)([A-Za-z0-9_-]{6,})/,
        /v=([A-Za-z0-9_-]{6,})/,
        /youtu\.be\/([A-Za-z0-9_-]{6,})/
      ];
      for(const p of patterns){
        const m = url.match(p);
        if(m && m[1]) return m[1];
      }
      // last-resort: try query param parsing
      try {
        const u = new URL(url);
        return u.searchParams.get('v');
      } catch(e){}
      return null;
    }

    (function(){
      // --- inject featured youtube embed if URL provided ---
      const featuredMedia = document.getElementById('featuredMedia');
      const ytID = extractYouTubeID(FEATURE_YOUTUBE_URL);
      if(ytID){
        // privacy-enhanced embed domain, autoplay disabled
        const embed = document.createElement('iframe');
        embed.src = `https://www.youtube-nocookie.com/embed/${ytID}?rel=0&showinfo=0&modestbranding=1`;
        embed.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
        embed.allowFullscreen = true;
        embed.style.width = "100%";
        embed.style.height = "100%";
        featuredMedia.innerHTML = ""; // clear fallback
        featuredMedia.appendChild(embed);
      } else {
        // If user hasn't set the URL yet, show a helpful message (replace URL and refresh)
        featuredMedia.innerHTML = '<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#999;background:#000;padding:20px;text-align:center;">Paste your YouTube trailer link into FEATURE_YOUTUBE_URL inside the HTML file and reload the page to embed the trailer here.</div>';
      }

      // ---------- Small particle background ----------
      const canvas = document.getElementById('bgCanvas');
      const ctx = canvas.getContext('2d');
      let particles = [];
      function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
      addEventListener('resize', resize);
      resize();

      function init(n=80){
        particles = [];
        for(let i=0;i<n;i++){
          particles.push({
            x: Math.random()*canvas.width,
            y: Math.random()*canvas.height,
            r: Math.random()*2.2 + 0.6,
            vx: (Math.random()-0.5) * 0.35,
            vy: (Math.random()-0.5) * 0.35,
            alpha: 0.08 + Math.random()*0.22
          });
        }
      }
      function draw(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach(p=>{
          ctx.beginPath();
          ctx.fillStyle = 'rgba(255,119,0,'+p.alpha+')';
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          ctx.fill();
          p.x += p.vx; p.y += p.vy;
          if(p.x<0||p.x>canvas.width) p.vx*=-1;
          if(p.y<0||p.y>canvas.height) p.vy*=-1;
        });
        requestAnimationFrame(draw);
      }
      init();
      draw();

      // ---------- Smooth scroll + active nav link using IntersectionObserver ----------
      const links = document.querySelectorAll('.nav-link');
      const sections = Array.from(document.querySelectorAll('main section, header.hero'));
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(ent=>{
          if(ent.isIntersecting){
            const id = ent.target.id;
            links.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#'+id));
          }
        });
      }, { root: null, rootMargin: '0px 0px -40% 0px', threshold: 0.22 });

      sections.forEach(s => io.observe(s));

      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', function(e){
          const target = document.querySelector(this.getAttribute('href'));
          if(target){
            e.preventDefault();
            target.scrollIntoView({ behavior:'smooth', block:'start' });
            setTimeout(()=> { try { target.focus({preventScroll:true}); } catch(e){} }, 600);
          }
        });
      });

      // Fade-in on load (sections)
      window.addEventListener('DOMContentLoaded', ()=>{
        const elems = document.querySelectorAll('header.hero, section');
        elems.forEach((el,i) => setTimeout(()=> el.classList.add('visible'), 100*i));
      });
    })();
  </script>
</body>
</html>

